<!DOCTYPE html>  
<html lang="en">    
<head>    
  <meta charset="utf-8" />    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />    
  <title>TG ECET Buddy</title>    
  <script src="https://cdn.tailwindcss.com"></script>    
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />    
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />    
  <style>    
    body { font-family: 'Poppins', sans-serif; background-color: #f5f6fa; color: #333; }    
    .dark { background-color: #0d0d0d; color: #e5e5e5; }    
    .dark .bg-white { background-color: #1a1a1a !important; }    
    .dark .text-gray-800 { color: #e5e5e5 !important; }    
    .dark .text-gray-500 { color: #b3b3b3 !important; }    
    .dark .text-gray-600 { color: #bfbfbf !important; }    
    .dark .text-purple-600 { color: #b79bff !important; }    
    .dark .bg-purple-100 { background-color: #2b2340 !important; }    
    .dark .shadow-lg { box-shadow: 0 10px 15px -3px rgba(0,0,0,0.7), 0 4px 6 -2px rgba(0,0,0,0.5); }  

    .sidebar { transition: transform 0.3s ease-in-out; z-index: 50; }    
    .sidebar-hidden { transform: translateX(-100%); }    
    #overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.4); z-index: 40; }    
    #overlay.active { display: block; }    
  </style>    
</head>    
<body class="transition-all duration-300">    
  <div id="overlay"></div>    
  <div class="flex flex-col md:flex-row min-h-screen overflow-hidden">  
    <!-- Sidebar -->    
    <aside id="sidebar" class="sidebar fixed md:static top-0 left-0 min-h-screen md:min-h-[calc(100vh-2rem)] w-64 bg-white flex flex-col p-6 shadow-lg dark:bg-[#141414] sidebar-hidden md:translate-x-0">    
      <div class="flex items-center justify-between md:justify-start mb-10">    
        <div class="flex items-center">    
          <span class="material-icons text-purple-600 text-3xl mr-2">school</span>    
          <h1 class="text-xl font-bold text-gray-800 dark:text-[#e5e5e5]">TG ECET BUDDY</h1>    
        </div>    
        <button id="closeSidebar" class="md:hidden text-gray-600 dark:text-gray-300 text-3xl">&times;</button>    
      </div>    

      <nav class="flex-1 overflow-y-auto">    
        <ul>    
          {# <-- Added Home as the first item, kept all other items exactly as before --> #}
          {% for link, icon, text in [
            ('home','home','Home'),
            ('about', 'info', 'About ECET'),
            ('after_ecet', 'school', 'After ECET'),
            ('strategy', 'rocket_launch', 'Preparation Strategy'),
            ('chatbox', 'chat', 'Doubt Chat Box'),
            ('alerts', 'notifications', 'ECET Alerts'),
            ('notes', 'bookmark', 'Important Notes'),
            ('goal_tracker', 'check_circle', 'Goal Tracker'),
            ('dashboard', 'account_circle', 'User Dashboard')
          ] %}
          <li class="mb-4">    
            <a href="{{ url_for(link) }}" class="flex items-center p-3 rounded-2xl text-gray-500 hover:bg-purple-100 hover:text-purple-600 dark:text-gray-400 dark:hover:bg-[#2b2340] dark:hover:text-[#c5b3ff]">      
              <span class="material-icons mr-3">{{ icon }}</span> {{ text }}    
            </a>    
          </li>    
          {% endfor %}    
        </ul>    
      </nav>    

      <div class="mt-auto">    
        <!-- logout with confirmation (calls confirmLogout JS) -->
        <button id="logoutBtn" aria-label="Logout" onclick="confirmLogout()" class="w-full flex items-center justify-between p-3 rounded-2xl text-gray-500 hover:bg-purple-100 hover:text-purple-600 dark:text-gray-400 dark:hover:bg-[#2b2340] dark:hover:text-[#c5b3ff]">
          <span class="material-icons">logout</span>
          <span class="material-icons">chevron_right</span>
        </button>
      </div>    
    </aside>    

    <!-- Main Content -->    
    <main class="flex-1 p-4 md:p-8 bg-[#f5f6fa] dark:bg-[#0d0d0d] overflow-y-auto relative">      
      <!-- Mobile Header -->      
      <div class="flex items-center justify-between md:hidden mb-6">    
        <button id="openSidebar" class="text-gray-700 dark:text-gray-200 text-3xl">    
          <span class="material-icons">menu</span>    
        </button>    
        <h2 class="text-xl font-bold text-gray-800 dark:text-[#e5e5e5]">TG ECET Buddy</h2>    
      </div>      

      <!-- Header / Greeting -->      
      <header class="flex flex-col md:flex-row justify-between items-center mb-8 gap-4">    
        {% if session.get('user_name') %}    
          {% set hour = now.hour %}    
          {% if hour < 12 %}    
            {% set greeting = "Good Morning" %}    
          {% elif hour < 17 %}    
            {% set greeting = "Good Afternoon" %}    
          {% else %}    
            {% set greeting = "Good Evening" %}    
          {% endif %}    
          <h2 class="text-2xl font-bold text-gray-800 dark:text-[#dcdcdc]">{{ greeting }}, {{ session['user_name'] }}!</h2>    
        {% else %}    
          <h2 class="text-2xl font-bold text-gray-800 dark:text-[#dcdcdc]">Welcome to TG ECET Buddy</h2>    
        {% endif %}    
      </header>      

      <!-- Hero Section -->      
      <section class="flex flex-col md:flex-row items-center justify-between gap-10 mb-12">    
        <div class="md:w-1/2 text-center md:text-left space-y-6">    
          <p class="text-gray-600 dark:text-[#c8c8c8] text-lg">    
            Your all-in-one tool to ace ECET exams with study resources, alerts, tracking, and more.    
          </p>    
          <button id="darkModeToggle" class="bg-gray-800 text-white px-6 py-3 rounded-full flex items-center mx-auto md:mx-0 shadow-lg dark:bg-[#e5e5e5] dark:text-[#0d0d0d] transition-all">    
            <span class="material-icons mr-2">dark_mode</span>    
            Enable Dark Mode    
          </button>    
        </div>    
        <div class="md:w-1/2 flex justify-center">    
          <img src="https://lh3.googleusercontent.com/aida-public/AB6AXuAhGuRr5Moa5uzmSBFQR9d4maKpdZi_4vGXxWa8M1UQa3ueWkxrco-8CjRudzp1wZ11lqtSaIOYxwtAzL5sFxYzQwjW-nDpzydo2m0zexeLxQOVXdefJyWzMVGdg5hddXi2c7ePFv82vbFL7Hzicw3WCcnwd5aIMN4PBYipZ2keTC2xf4j8S-d-wVLFFcO3VP7GcZeCLM3_Z4R4V3gH0Lw4yItroAR9tug9agW-y8kjezPqMSEooUN9pzC1CXuyNFDFeYT88YLyA84" alt="Student studying" class="w-3/4 md:w-2/3 rounded-xl shadow-md" />    
        </div>    
      </section>      

      <!-- Sections Layout -->      
      <div class="lg:flex lg:gap-8">    
        <!-- Left + Middle -->    
        <div class="lg:flex-1 flex flex-col gap-8">    
          <!-- Motivation -->    
          <div class="bg-white p-6 rounded-2xl shadow-lg dark:bg-[#1a1a1a]">    
            <div class="flex items-center mb-4">    
              <span class="material-icons text-yellow-500 mr-3">lightbulb</span>    
              <h3 class="text-lg font-semibold text-gray-800 dark:text-[#e5e5e5]">Motivation of the Day</h3>    
            </div>    
            <p class="text-gray-600 dark:text-[#bfbfbf]">{{ motivations | random }}</p>    
          </div>    

          <!-- Progress Tracker -->    
          <div class="bg-white p-6 rounded-2xl shadow-lg flex flex-col items-center justify-center dark:bg-[#1a1a1a]">    
            <h3 class="text-lg font-semibold text-gray-800 mb-4 dark:text-[#e5e5e5]">Progress Tracker</h3>    
            <div class="relative w-32 h-32">    
              <svg class="w-full h-full" viewBox="0 0 36 36">    
                <path class="text-purple-100 dark:text-[#2b2340]" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" fill="none" stroke="currentColor" stroke-width="3.8"></path>    
                <path class="text-purple-600 dark:text-[#b79bff]" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" fill="none" stroke="currentColor" stroke-dasharray="0, 100" stroke-linecap="round" stroke-width="3.8"></path>    
              </svg>    
              <div class="absolute inset-0 flex flex-col items-center justify-center">    
                <span class="text-3xl font-bold text-gray-800 dark:text-[#e5e5e5]">0%</span>    
              </div>    
            </div>    
            <p class="text-gray-500 mt-2 dark:text-[#b3b3b3]">In Progress</p>    
          </div>        

          <!-- Timetable -->        
          <div class="bg-white p-6 rounded-2xl shadow-lg dark:bg-[#1a1a1a] flex flex-col md:flex-row justify-between items-center">    
            <div>    
              <h3 class="text-lg font-semibold text-gray-800 dark:text-[#e5e5e5] mb-2">Timetable</h3>    
              <p class="text-gray-500 dark:text-[#b3b3b3] mb-4">Create your customized timetable</p>    
            </div>    
            <a href="{{ url_for('goal_tracker') }}">    
              <button class="bg-purple-600 text-white px-6 py-2 rounded-full shadow-lg hover:bg-purple-700 transition">    
                Create Timetable    
              </button>    
            </a>    
          </div>        

          <!-- Quick Access -->        
          <div class="mb-8">    
            <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-4">Quick Access</h3>    
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">    
              <a class="bg-white p-4 rounded-2xl shadow-lg flex flex-col items-center justify-center text-center hover:bg-purple-50 dark:bg-gray-800 dark:hover:bg-purple-900 transition-transform transform hover:scale-105" href="#">    
                <span class="material-icons text-purple-600 text-3xl mb-2">menu_book</span>    
                <span class="font-semibold text-gray-700 dark:text-gray-200">Subjects</span>    
              </a>    
              <a class="bg-white p-4 rounded-2xl shadow-lg flex flex-col items-center justify-center text-center hover:bg-green-50 dark:bg-gray-800 dark:hover:bg-green-900 transition-transform transform hover:scale-105" href="#">    
                <span class="material-icons text-green-600 text-3xl mb-2">assignment</span>    
                <span class="font-semibold text-gray-700 dark:text-gray-200">Mock Tests</span>    
              </a>    
              <a class="bg-white p-4 rounded-2xl shadow-lg flex flex-col items-center justify-center text-center hover:bg-blue-50 dark:bg-gray-800 dark:hover:bg-blue-900 transition-transform transform hover:scale-105" href="#">    
                <span class="material-icons text-blue-600 text-3xl mb-2">video_library</span>    
                <span class="font-semibold text-gray-700 dark:text-gray-200">Video Lectures</span>    
              </a>    
              <a class="bg-white p-4 rounded-2xl shadow-lg flex flex-col items-center justify-center text-center hover:bg-red-50 dark:bg-gray-800 dark:hover:bg-red-900 transition-transform transform hover:scale-105" href="#">    
                <span class="material-icons text-red-600 text-3xl mb-2">forum</span>    
                <span class="font-semibold text-gray-700 dark:text-gray-200">Forums</span>    
              </a>    
            </div>    
          </div>    
        </div>        

        <!-- Right Column: Announcements -->        
        <div class="lg:w-1/3 flex flex-col gap-8 mt-8 lg:mt-0">    
          <div class="bg-white p-6 rounded-2xl shadow-lg dark:bg-gray-800">    
            <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-4">Announcements</h3>    
            <div class="space-y-4">    
              <div class="flex items-start">    
                <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center mr-4 dark:bg-purple-900">    
                  <span class="material-icons text-purple-600 dark:text-purple-300">campaign</span>    
                </div>    
                <div>    
                  <p class="font-semibold text-gray-800 dark:text-white">ECET 2025 Notification Released</p>    
                  <p class="text-sm text-gray-500 dark:text-gray-400">Application dates: Mar 15 - Apr 30</p>    
                </div>    
              </div>    
              <div class="border-t border-gray-200 dark:border-gray-700 my-4"></div>    
              <div class="flex items-start">    
                <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-4 dark:bg-green-900">    
                  <span class="material-icons text-green-600 dark:text-green-300">event</span>    
                </div>    
                <div>    
                  <p class="font-semibold text-gray-800 dark:text-white">New Mock Test Series Live!</p>    
                  <p class="text-sm text-gray-500 dark:text-gray-400">Full-length tests available now.</p>    
                </div>    
              </div>    
              <div class="border-t border-gray-200 dark:border-gray-700 my-4"></div>    
              <div class="flex items-start">    
                <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-4 dark:bg-blue-900">    
                  <span class="material-icons text-blue-600 dark:text-blue-300">schedule</span>    
                </div>    
                <div>    
                  <p class="font-semibold text-gray-800 dark:text-white">Updated Timetable</p>    
                  <p class="text-sm text-gray-500 dark:text-gray-400">Check the new schedule for live classes.</p>    
                </div>    
              </div>    
            </div>    
          </div>    
        </div>    
      </div>      

      <footer class="text-center text-gray-500 mt-10 text-sm dark:text-[#8c8c8c]">    
        Â© 2025 TG ECET Buddy. All Rights Reserved.    
      </footer>    
    </main>    
  </div>    

  <script>      
    const darkModeToggle = document.getElementById('darkModeToggle');      
    const sidebar = document.getElementById('sidebar');      
    const openSidebar = document.getElementById('openSidebar');      
    const closeSidebar = document.getElementById('closeSidebar');      
    const overlay = document.getElementById('overlay');      

    // dark mode toggle
    darkModeToggle.addEventListener('click', () => {      
      document.body.classList.toggle('dark');      
      const isDarkMode = document.body.classList.contains('dark');      
      darkModeToggle.innerHTML = isDarkMode      
        ? `<span class="material-icons mr-2">light_mode</span> Enable Light Mode`      
        : `<span class="material-icons mr-2">dark_mode</span> Enable Dark Mode`;      
    });      

    // sidebar open/close (mobile)
    openSidebar.addEventListener('click', () => {    
      sidebar.classList.remove('sidebar-hidden');    
      overlay.classList.add('active');    
    });    

    closeSidebar.addEventListener('click', () => {    
      sidebar.classList.add('sidebar-hidden');    
      overlay.classList.remove('active');    
    });    

    overlay.addEventListener('click', () => {    
      sidebar.classList.add('sidebar-hidden');    
      overlay.classList.remove('active');    
    });

    // Logout confirmation: redirects to logout endpoint if confirmed (your Flask route clears session and redirects to register)
    function confirmLogout(){
      const ok = confirm("Are you sure you want to logout?");
      if(ok){
        window.location.href = "{{ url_for('logout') }}";
      }
    }
  </script>  
</body>  
</html>